# Сравнение аналогов
## Принцип отбора аналогов
В поисковой системе google schoolar был произведен поиск алгоритмов оценки текущей ситуации для виртуальной мултиагентной среды robocup. Поиск производился по запросам “robocop virtual soccer”, “decision making algorithm”. В качестве источников аналогов рассматривались научные статьи с описанием используемых методов решения задачи и реализованных результатов. Для рассмотрения широкого диапазона возможных решений поставленной задачи выбирались аналоги, для которых эти критерии не совпадали.
### Алгоритм NOVAURO 
Алгоритм NOVAURO – это модель принятия решений, основанная на двух критических факторах: вертикальном расстоянии до линии ворот и визуальном угле к воротам. С их помощью формализуются оборонительные и наступательные решения.
Перед выполнением действия рассчитывается функция оценки успеха. 
При любом действии (удар по мячу, передача мяча, защитная ситуация) результат зависит от вертикального расстояния от агента до линии ворот и от угла обзора до ворот.
Кроме того, результат функции оценки успеха удара по мячу зависит от способности бьющего агента и степени вмешательства агентов соперника. Результат функции оценки успеха передачи также зависит от качества коммуникации, в том числе надежности секретного сообщения, которое сообщает о точке передачи мяча. [1]
### Гибридный метод, совмещающий нечеткую и бинарную логику
Метод основан на разделении действий агента среды на базовые, то есть реализованные сервером, и действия высокого уровня. Для принятия решения используется двухфазные алгоритм, основанный на сочетании нечеткой и бинарной логики
Перед выполнением действия агент оценивает его как успешное либо неуспешное.
Удар по мячу, направляющий его в конкретную точку ворот оценивается как успешный если время, необходимое защитнику, чтобы поймать мяч, больше, чем сумма времени корректировки положения агента с временем полета мяча до точки
При передаче мяча другому агенту вычисляется возможность ошибки и риски перехвата мяча, учитывается местоположение мяча и агента – получателя мяча
При защитной ситуации агент оценивает необходимость сближения с агентом соперника и при необходимости помечает его как свою цель для выполнения сценария защиты [2]
### Алгоритм на основе изучения примитивных навыков через обучение с подкреплением
Алгоритм представляет собой алгоритм обучения с подкреплением PPO (алгоритм оптимизации проксимальной политики), расширенный с помощью способностей, использующих симметрию, и примитивов набора навыков. Эти примитивы являются подмножеством примитивов движения и фиксируют общие шаблоны действий.
Более сложные действия, такие как удар по мячу либо передача мяча реализованы как набор примитивных навыков. 
Удар по мячу реализован как навык “Sprint-kick” и состоит из трех этапов: спринт вперед для набора скорости, кривой спринт для изменения траектории, удар ногой.
Передача мяча реализована с помощью высокоуровневой обработки навыка “Push”. Высокоуровневая часть навыка отрабатывается в мультиагентной среде, анализируя данные о ближайших агентах – товарищах по команде и агентах – соперниках. При взаимодействии всегда принимается во внимание долгосрочная цель – направление ворот соперника, но действие передачи мяча выполняется исходя из краткосрочной цели – ближайшего товарища по команде, которому можно передать мяч. [3]
### Вероятностный алгоритм 
Алгоритм основан на использовании базовой станции для предоставления навыков, информации о мире и путях, оставляя при этом автономность робота. Базовая станция улучшает принятие решений на основе вероятностных алгоритмов и деревьев решений. 
Для реализации методов удара по мячу и передачи мяча используется навык “Удар ногой”, зависящий от параметров координат точки назначения, а также перемнной силы удара, принимающей значения удар по воротам либо передача мяча
Для реализации защитной модели поведения используется навык “Покрытие”. Его цель – позиционировать агента между двумя координатами (в том числе движущимися). Навык зависит от параметров координат позиционирования, а также уровня давления в процентном соотношении, которое необходимо оказать на агента соперника. [4]
### Усовершенствование алгоритма цепочки действий 
Алгоритм представляет собой улучшение цепочки действий с помощью специальных эвристик, улучшающих работу команды в критических областях.
Поле разделяется на 8 зон, для каждой произведена оптимизация оценки цепочки действий. 
Выбор оборонительной и наступательной стратегии реализуется с использованием нейронной сети, вычисляющей вероятность забить гол
При владении мячом игрок вычисляет расстояние до всех игроков своей команды, что позволяет ему лучше позиционировать себя для передачи мяча
Эвристика защитной стратегии основана на уменьшении свободного пространства игрока соперника и создании возможностей для своей атаки на игрока соперника, владеющего мячом. [5]
## Критерии сравнения аналогов
### Уровень оценки ситуации
Уровень оценки ситуации – этот критерий показывает, исходя из каких данных агент принимал решение. Локальный уровень оценки ситуации говорит о том, что агент принимает решение, исходя только из информации, которую считывает сам. Полный уровень оценки ситуации говорит об использовании информации о всех объектах среды с помощью внешнего сервера.
### Результат разработки
Результат разработки – этот критерий показывает, показывает реализованный в ходе разработки или исследования результат. Результат может являться новым алгоритмом принятия решения, оптимизацией или усовершенствованием существующих методов и алгоритмов, либо реализацией уже существующих методов и алгоритмов, имеющей преимущества на более высоком уровне принятия решений.
### Точность
Точность – этот критерий показывает, насколько точно в соответствии с алгоритмом принимается решение. Значение выражается в процентах о 0 до 100, где 100% - наиболее точное предсказание ситуации
## Таблица сравнения аналогов
| Алгоритм/Критерий          | Уровень оценки ситуации | Результат разработки             | Точность |
|----------------------------|-------------------------|----------------------------------|---------|
| Алгоритм NOVAURO           | Локальный               | Алгоритм принятия решений        | 64%     |
| Гибридный метод, совмещающий нечеткую и бинарную логику | Локальный | Алгоритм принятия решений | 81%     |
| Алгоритм на основе изучения примитивных навыков через обучение с подкреплением | Полный | Оптимизация существующего алгоритма | 76%     |
| Вероятностный алгоритм     | Полный                  | Алгоритм принятия решений        | 86%     |
| Алгоритм цепочек действий  | Локальный               | Оптимизация существующего алгоритма | 75%     |

## Выводы по итогам сравнения
Анализируя результаты сравнения по критериям из таблицы 1, а также описания аналогов можно сделать следующие выводы.

Для решения задачи при различных подходах используется как полный, так и локальный уровень оценки ситуации, выбор уровня оценки ситуации совершается исходя из особенностей используемого метода и реализации. Преимуществом полного уровня оценки ситуации является более полная оценка ситуации с использованием данных, недоступных одному игроку, однако по сравнению с локальным уровнем оценки ситуации такой метод требует участия сервера в оценке ситуации, а также большего количества вычислительных ресурсов и времени для связи с сервером.

Среди аналогов существует не только оптимизации и реализации одного подхода, но и новые алгоритмы принятия решений, следовательно, существует возможность анализировать различные алгоритмы и подходы к решению задачи. Среди аналогов представлены такие способы решения задачи, как аналитический алгоритм (NOVAURO), совмещение нечеткой и бинарной логики, алгоритм обучения с подкреплением, а также вероятностный алгоритм.

Оценивая точность алгоритмов, а также выводы авторов статей, можно сделать следующие выводы.
Алгоритм NOVAURO обладает низкой относительно других аналогов точностью. Авторы [1] связывают это с концепцией алгоритма, представляющей жесткую иерархическую модель.

Алгоритм, основанный на совмещении нечеткой и бинарной логики, имеет точность 81%, что по сравнению с другими представленными аналогами является достаточно высоким показателем. Из выводов, сделанных авторами статьи [2] можно увидеть, что такие показатели точности достигаются за счет двухфазного алгоритма принятия решений.

Алгоритм на основе изучения примитивных навыков имеет точность 76%, что по сравнению с другими аналогами является средним показателем. Его преимущество, как следует из выводов [3], в высокой скорости игроков, а также в возможности гибко переходить от одного поведения к другому. Однако в данном алгоритме отсутствует реализация защитной модели поведения.

Вероятностный алгоритм обладает самой высокой среди представленных аналогов точностью. Авторы [4] утверждают, что алгоритм гибко адаптируется к различным игровым ситуациям, а устраняет необходимость в заранее определенных схемах и сборниках правил. Недостатком данного алгоритма можно считать снижение точности при работе в системах с высоким показателем шума, так как концепция алгоритма подразумевает активное взаимодействие игроков на поле.

Алгоритм на основе цепочек действий имеет точность 75%, что по сравнению с другими аналогами является средним показателем. Авторы [5] отмечают значительное улучшение позиционирования игроков для передачи мяча, а также поведения игроков в защитных ситуациях, однако использованные эвристики ухудшили поведение игроков в ситуациях удара по воротам по сравнению с алгоритмами, взятыми за основу

## Выбор метода решения
Решением задачи оценки ситуации в среде виртуального футбола является реализация алгоритма. 
Решение должно обеспечивать возможность выполнения необходимых для агента функциональностей удара по воротам, передачи мяча и защиты. Решение может являться оптимизацией существующего алгоритма, среди рассмотренных алгоритмов для этой задачи подходят алгоритм, основанный на нечеткой логике [2] и вероятностый алгоритм [4].

## Список использованных источников
1. Design and Implementation of a General Decision-making Model in RoboCup Simulation Changda Wang, Xianyi Chen, Xibin Zhao, Shiguang Ju https://arxiv.org/abs/cs/0411023
2. A simple method for decision making in RoboCup  soccer simulation 3D environment Khashayar Niki Maleki, Mohammad Hadi Valipour, Sadegh Mokari, Roohollah Yeylaghi Ashrafi, Mohammad Reza Jamali, Caro Lucas https://arxiv.org/abs/1212.1570
3. Designing a Skilled Soccer Team for RoboCup: Exploring Skill-Set-Primitives through Reinforcement Learning Miguel Abreu, Luis Paulo Reis, Nuno Lau https://arxiv.org/abs/2312.14360
4. Probability-Based Strategy for a Football Multi-Agent Autonomous Robot System António Fernando Alcântara Ribeiro, Ana Carolina Coelho Lopes, Tiago Alcântara Ribeiro, Nino Sancho Sampaio Martins Pereira, Gil Teixeira Lopes António Fernando Macedo Ribeiro https://www.researchgate.net/publication/376801345_Probability-Based_Strategy_for_a_Football_Multi-Agent_Autonomous_Robot_System
5. ITAndroids 2D Soccer Simulation Team Description Paper 2017 Felipe Coimbra, Miguel Neto, Camila Rapereda, Guilherme Marinot, Cl´audio Silva,Matheus Marcontes https://archive.robocup.info/Soccer/Simulation/2D/TDPs/RoboCup/2017/ITAndroids_SS2D_RC2017_TDP.pdf